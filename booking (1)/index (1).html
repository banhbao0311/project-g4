<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Booking</title>
    <script src=""></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/booking/bookingStyle.css" />
  </head>

  <body>
<div id="background">
  <div id="formBooking" ng-app="myApp" ng-controller="bookingCtrl">
    <h2>Your Booking</h2>
    <form name="formBooking" novalidate>
      <div>
        <label for="" class="labelForm">First Name</label>
        <input type="text" name="firstName" id="" required ng-model="firstName" />
        <div style="color: red;" ng-show="formBooking.firstName.$error.required"
          >* First Name cannot be blank</div
        >
      </div>
      <div>
        <label for="" class="labelForm">Last Name</label>
        <input type="text" name="lastName" id="" required ng-model="lastName"/>
        <div style="color: red;" ng-show="formBooking.lastName.$error.required">* Last Name cannot be blank</div>
      </div>
      <div>
        <label for="" class="labelForm">Adult</label>
        <input type="number" name="aldultQnt" id="" min="0" ng-model="aldultQnt" />
      </div>
      <div>
        <label for="" class="labelForm">Children</label>
        <input type="number" name="childQnt" id="" min="0" ng-model="childQnt" />
      </div>
      <div>
        <label for="" class="labelForm">Ticket Type</label>
        <input type="radio" name="ticketType" id="" checked ng-click="basicInit()"/>Basic
        <input type="radio" name="ticketType" id="" ng-change="silverInit()" ng-model="silverT"/>Silver
        <input type="radio" name="ticketType" id="" ng-change="goldInit()" ng-model="goldT"/>Gold
      </div>
      <div>
        <label for="" class="labelForm">Telephone</label>
        <input type="text" ng-pattern="/^\+\d{2}\s\d{1,9}$/" ng-model="telephone" name="telephone" required>
        <div style="color: red;" ng-show="formBooking.telephone.$error.required">* Telephone cannot be blank</div>
        <div style="color: red;" ng-show="formBooking.telephone.$error.pattern || formBooking.telephone.$error.required">* Format +xx xxxxxxxxx x:digit</div>
      </div>
      <div>
        <label for="" class="labelForm">Total</label>
        <!-- <input type="text" name="total" id="" readonly ng-model="total"> -->
        <span name="total" id="totalTicket" ng-model="total">{{aldultQnt*40 +childQnt*20 + silverT + goldT| currency}}</span>
      </div>
      <div>
        <input type="submit" name="" id="" class="btn btn-success" ng-disabled="formBooking.$invalid"/>
        <input type="reset" value="Reset" class="btn btn-light"/>
      </div>
    </form>
  </div>
</div>
  </body>
  <script>
    let app = angular.module("myApp",[]);
    app.controller("bookingCtrl", function($scope){
      $scope.total = 0;
      $scope.aldultQnt = 0;
      $scope.childQnt = 0;
      $scope.basicInit = function(){
        $scope.silverT = 0;
        $scope.goldT = 0;
        console.log($scope.aldultQnt +$scope.goldT );
      }
      $scope.silverInit = function(){
        $scope.silverT = 30;
        $scope.goldT = 0;
        console.log($scope.aldultQnt +$scope.goldT );

      }
      $scope.goldInit = function(){
        $scope.silverT = 0;
        $scope.goldT = 50;
        console.log($scope.aldultQnt +$scope.goldT );

      }

      // $scope.silverT = function(){
      //   // $scope.total = $scope.aldultQnt + $scope.childQnt + 30;
      //   document.getElementById("totalTicket").innerHTML = $scope.aldultQnt + $scope.childQnt + 30;
      // };
      // $scope.goldT = function(){
      //   $scope.total = $scope.aldultQnt + $scope.childQnt + 50;
      // };
      
    })
  </script>
</html>
